(this["webpackJsonptwitter-concept"]=this["webpackJsonptwitter-concept"]||[]).push([[0],{189:function(e,t,c){},190:function(e,t,c){},216:function(e,t){},218:function(e,t){},227:function(e,t){},229:function(e,t){},257:function(e,t){},259:function(e,t){},260:function(e,t){},265:function(e,t){},267:function(e,t){},286:function(e,t){},298:function(e,t){},301:function(e,t){},349:function(e,t,c){},351:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(181),s=c.n(r),i=(c(189),c(6)),o=c(10),l=c(7),u=(c(190),c(0)),j=function(e){var t=e.children;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"wrapper",children:t})})})},d=function(){return Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("h1",{children:"NestedUserPage l2 Page"})})},b=c.p+"static/media/logo.89093620.svg",p=function(e){var t=e.children;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("main",{className:"container_one col-12",children:t})})},m=c(2),O=c(4),h=c(21),x=c(3),f=function(e){var t,c,n,a,r,s,i=e.name,o=e.label,l=e.type,j=e.placeholder,d=e.errors,b=e.register,p=e.maxLength,m=e.validationSchema,O=e.watch;return Object(u.jsxs)(u.Fragment,{children:[" ",Object(u.jsxs)("div",{className:"input_group",children:[Object(u.jsx)("label",{children:o}),Object(u.jsx)("input",Object(x.a)(Object(x.a)({type:l,name:i,placeholder:j},b(i,m)),{},{maxLength:p||null}))]}),Object(u.jsxs)("div",{className:"error-message-group",children:[d&&"required"===(null===(t=d[i])||void 0===t?void 0:t.type)&&Object(u.jsx)("span",{className:"error",children:null===(c=d[i])||void 0===c?void 0:c.message}),d&&"minLength"===(null===(n=d[i])||void 0===n?void 0:n.type)&&Object(u.jsx)("span",{className:"error",children:null===(a=d[i])||void 0===a?void 0:a.message}),d&&"pattern"===(null===(r=d[i])||void 0===r?void 0:r.type)&&Object(u.jsx)("span",{className:"error",children:null===(s=d[i])||void 0===s?void 0:s.message}),Object(u.jsxs)("span",{className:"limit-num",children:[O(i)?O(i).length:"0","/50"]})]})]})},v=c(28),g=c.n(v),w="https://calm-eyrie-50498.herokuapp.com/api",N=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.account,n=t.password,e.prev=1,e.next=4,g.a.post("".concat(w,"/signin"),{account:c,password:n});case 4:if(a=e.sent,r=a.data,console.log(r),!r.data.token){e.next=10;break}return e.abrupt("return",Object(x.a)({success:!0},r));case 10:return e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(1),console.error("[Login Failed]:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a,r,s,i,o;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.account,n=t.email,a=t.password,r=t.checkPassword,s=t.name,e.prev=1,e.next=4,g.a.post("".concat(w,"/users"),{account:c,email:n,password:a,checkPassword:r,name:s});case 4:if(i=e.sent,o=i.data,console.log("we got data",o),!o.authToken){e.next=11;break}return console.log(o),e.abrupt("return",Object(x.a)({success:!0},o));case 11:return e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(1),console.error('["Register failed"]',e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),y=c(74),I={isAuthentic:!1,currentMember:null,login:null,logout:null,signUp:null},T=Object(n.createContext)(I),S=function(){return Object(n.useContext)(T)},C=function(e){var t=e.children,c=Object(n.useState)(null),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(null),j=Object(i.a)(o,2),d=j[0],b=j[1],p=Object(l.i)().pathname,h=Object(n.useState)(!1),x=Object(i.a)(h,2),f=x[0],v=x[1],g=Object(n.useState)(!1),w=Object(i.a)(g,2),I=w[0],S=w[1],C=Object(n.useState)(null),U=Object(i.a)(C,2),A=U[0],L=U[1],F=Object(n.useState)({}),P=Object(i.a)(F,2),M=P[0],q=P[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("authToken")){e.next=5;break}return s(!1),b(null),e.abrupt("return");case 5:if(!t){e.next=11;break}return s(!0),c=y.decode(t),b(c),q(c),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]),Object(u.jsx)(T.Provider,{value:{isAuthentic:r,currentMember:d&&{id:d.id,name:d.name,avatar:d.avatar},setModalReplyOpen:v,modalReplyOpen:f,setModalTweetOpen:S,modalTweetOpen:I,setTweetId:L,tweetId:A,member:M,signUp:function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({account:t.account,password:t.password,email:t.email,checkPassword:t.checkPassword,name:t.name});case 2:return c=e.sent,n=c.success,a=c.authToken,(r=y.decode(a))?(b(r),s(!0),localStorage.setItem("authToken",a),q(r)):(b(null),s(!1)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a,r,i;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ok"),e.next=3,N({account:t.account,password:t.password});case 3:return c=e.sent,n=c.success,a=c.data,r=a.token,(i=y.decode(r))?(s(!0),localStorage.setItem("authToken",r),b(i),q(i)):s(!1),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("authToken"),s(!1),b(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},children:t})},U=function(){var e=Object(h.a)(),t=e.register,c=e.handleSubmit,a=e.reset,r=e.formState.errors,s=e.watch,i=S(),j=i.login,d=i.isAuthentic,b=Object(l.l)(),p=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.username.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==t.password.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,j({account:t.username,password:t.password});case 6:c=e.sent,console.log("Login: ",c),a();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d&&b("/main")}),[b,d]),Object(u.jsx)("div",{className:"formLayout login-form",children:Object(u.jsxs)("form",{onSubmit:c(p),children:[Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"username",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",maxLength:"50",errors:r,register:t,validationSchema:{required:"username is required",minLength:{value:3,message:"Please enter a minimum of 3 characters"}},watch:s})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:r,register:t,validationSchema:{required:"password is required",minLength:{value:8,message:"Please enter a minimum of 8 characters"}},watch:s})}),Object(u.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u767b\u5165"}),Object(u.jsxs)("div",{className:"button-group-row login-button-group",children:[Object(u.jsx)(o.b,{to:"/register",className:"button-link",children:"\u8a3b\u518a"}),Object(u.jsx)("span",{children:"\u30fb"}),Object(u.jsx)(o.b,{to:"/login/admin",className:"button-link",children:"\u5f8c\u53f0\u767b\u5165"})]})]})})},A=function(){var e=S().isAuthentic,t=Object(l.l)();return Object(n.useEffect)((function(){e&&t("/main")}),[t,e]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(p,{children:Object(u.jsxs)("div",{className:"login-container col-4 flex_col_cc",children:[Object(u.jsx)("div",{className:"page-logo",children:Object(u.jsx)("img",{src:b,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(u.jsx)("h3",{className:"page-title",children:"\u767b\u5165 Alphitter"}),Object(u.jsx)(U,{})]})})})},L=function(e){var t=e.tabIndex,c=e.setTabIndex;return Object(u.jsxs)("div",{className:"tab-group",children:[Object(u.jsx)("div",{className:["tab","0"===t?"active":""].join(" "),onClick:function(){return c("0")},children:"\u63a8\u6587"}),Object(u.jsx)("div",{className:["tab","1"===t?"active":""].join(" "),onClick:function(){return c("1")},children:"\u56de\u8986"}),Object(u.jsx)("div",{className:["tab","2"===t?"active":""].join(" "),onClick:function(){return c("2")},children:"\u559c\u6b61\u7684\u5167\u5bb9"})]})},F=function(e){var t=e.tabIndex,c=e.setTabIndex;e.pathName;return Object(u.jsxs)("div",{className:"tab-group",children:[Object(u.jsx)("div",{className:["tab","0"===t?"active":""].join(" "),tabIndex:"0",onClick:function(){return c("0")},children:"\u8ffd\u8e64\u8005"}),Object(u.jsx)("div",{className:["tab","1"===t?"active":""].join(" "),tabIndex:"1",onClick:function(){return c("1")},children:"\u6b63\u5728\u8ffd\u96a8"})]})},P=(c(349),function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"storybook-layout",children:Object(u.jsxs)("div",{className:"storybook-container",children:[Object(u.jsx)("h2",{children:"Storybooks"}),Object(u.jsx)("h4",{className:"page-sec-title",children:"=== Buttons-\u5143\u4ef6\u672c\u8eab\u76ee\u524d\u6c92\u6709\u88fd\u4f5c\u4e0a\u4e0bmargin\uff0c\u662f\u672c\u8868\u986f\u793a\u7528 ==="}),Object(u.jsxs)("div",{className:"flex_col_cc comp-container",children:[Object(u.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u767b\u5165"}),Object(u.jsx)("button",{className:"button-sm button-m active",type:"submit",children:"\u63a8\u6587"}),Object(u.jsx)("button",{className:"button-bg button-m active",type:"submit",children:"\u5132\u5b58"}),Object(u.jsx)("button",{className:"button-md button-m active",type:"submit",children:"\u6b63\u5728\u8ffd\u8e64"}),Object(u.jsx)("button",{className:"button-md button-m",type:"submit",children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"}),Object(u.jsx)(o.b,{className:"button-link",type:"submit",children:"\u53d6\u6d88"})]}),Object(u.jsx)("h4",{className:"page-sec-title",children:"=== tabs -\u5143\u4ef6\u672c\u8eab\u7d81\u5b9a\u5207\u63db\u5167\u5bb9\uff0c\u9019\u9801\u7684tab \u9ede\u4e86\u6703\u58de\u4e0d\u8981\u7ba1\u4ed6lol ==="}),Object(u.jsx)(L,{}),Object(u.jsx)(F,{})]})})})}),M=function(e){var t=e.role,c=e.pageIndex,n=e.memberId,a=S(),r=a.logout,s=a.setModalTweetOpen;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{className:"left-nav col-2",children:Object(u.jsxs)("div",{className:"left-nav-link",children:[Object(u.jsxs)("div",{className:"left-nav-link-items",children:[Object(u.jsx)(o.b,{to:"admin"===t?"/admin":"/main",className:"link-logo",children:Object(u.jsx)("img",{src:b,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(u.jsxs)(o.b,{to:"admin"===t?"/admin":"/main",className:"nav-link ",children:[Object(u.jsx)("span",{className:["nav-icon icon-home",0===c?"active":""].join(" ")}),Object(u.jsx)("p",{children:"admin"===t?"\u63a8\u6587\u6e05\u55ae":"\u9996\u9801"})]}),Object(u.jsxs)(o.b,{to:"admin"===t?"/admin/users":"/user/".concat(n),children:[Object(u.jsx)("span",{className:["nav-icon icon-user",1===c?"active":""].join(" ")}),Object(u.jsx)("p",{children:"admin"===t?"\u4f7f\u7528\u8005\u5217\u8868":"\u500b\u4eba\u8cc7\u6599"})]}),"admin"!==t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(o.b,{to:"/setting",children:[Object(u.jsx)("span",{className:["nav-icon icon-setting",2===c?"active":""].join(" ")}),Object(u.jsx)("p",{children:"\u8a2d\u5b9a"})]}),Object(u.jsxs)("button",{className:"button-filled button-lg button-tweet",type:"submit",onClick:function(){return s(!0)},children:[Object(u.jsx)("span",{className:"button-tweet-view",children:"\u63a8\u6587"}),Object(u.jsx)("span",{className:"button-tweet-view-m"})]})]})]}),Object(u.jsx)("div",{className:"left-nav-link-logout",children:Object(u.jsxs)(o.b,{to:"/login",onClick:function(){r()},children:[Object(u.jsx)("span",{className:"nav-icon icon-logout"}),Object(u.jsx)("p",{children:"\u767b\u51fa"})]})})]})})})},q=function(e){var t=e.children,c=e.role,n=e.pageIndex,a=e.memberId;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("main",{className:"container_sec",children:[Object(u.jsx)(M,{role:c,pageIndex:n,memberId:a}),t]})})},E=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{role:"admin",pageIndex:0,children:Object(u.jsx)("div",{className:"section-outer-l col-10",children:Object(u.jsx)("div",{className:"section-main-l",children:Object(u.jsx)("h1",{children:" AdminPage"})})})})})},R=function(){var e=Object(l.l)(),t=S(),c=t.isAuthentic,a=t.member,r=Object(h.a)(),s=r.register,i=r.handleSubmit,o=r.reset,j=r.formState.errors,d=r.watch;return console.log(a.id),Object(n.useEffect)((function(){c||e("/login")}),[e,c,a]),Object(u.jsx)("div",{className:"formLayout setting-form",children:Object(u.jsxs)("form",{onSubmit:i((function(e){console.log(e),o()})),children:[Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"account",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",maxLength:"50",errors:j,register:s,validationSchema:{required:"account is required",minLength:{value:3,message:"Please enter a minimum of 3 characters"}},watch:d})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"username",label:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",maxLength:"50",errors:j,register:s,validationSchema:{required:"username is required",minLength:{value:3,message:"Please enter a minimum of 3 characters"}},watch:d})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"email",label:"Email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",errors:j,register:s,validationSchema:{required:"email is required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}},watch:d})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:j,register:s,validationSchema:{required:"password is required",minLength:{value:8,message:"Please enter a minimum of 8 characters"}},watch:d})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"cpassword",label:"\u5bc6\u78bc\u518d\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",errors:j,register:s,validationSchema:{required:"password is required",minLength:{value:8,message:"Please enter a minimum of 8 characters"}},watch:d})}),Object(u.jsx)("div",{className:"button-group-row login-button-group",children:Object(u.jsx)("button",{className:"button-bg button-m active",type:"submit",children:"\u5132\u5b58"})})]})})},_=c.p+"static/media/back.de35b2eb.svg",B=function(e){var t=e.pageTitle;return Object(u.jsx)("div",{className:"header-container header-main",children:Object(u.jsx)("h5",{children:t})})},D=function(e){var t=e.userAccountName,c=e.userTweetsLength,n=Object(l.l)();return Object(u.jsxs)("div",{className:"header-container",children:[Object(u.jsx)("img",{src:_,alt:"Back to pre page",className:"icon-back cursor-point",onClick:function(){n(-1)}}),Object(u.jsxs)("div",{className:"header-user-info",children:[Object(u.jsx)("h5",{children:t}),Object(u.jsxs)("p",{children:[c," \u63a8\u6587"]})]})]})},G=function(e){var t=e.children;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"modal-outer-container modal-transparent-bk",children:Object(u.jsx)("div",{className:"modal-flex-box",children:Object(u.jsx)("div",{className:"modal-container",children:t})})})})},z=c.p+"static/media/close.8d623dc5.svg",J=function(e){var t=e.setModalTweetOpen,c=e.setModalReplyOpen;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"modal-header",children:Object(u.jsx)("img",{src:z,alt:"icon of close button",className:"icon-close",onClick:function(){null===t||void 0===t||t(!1),null===c||void 0===c||c(!1)}})})})},V=function(e){var t=e.setModalProOpen;e.onSubmit;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"modal-header modal-header-with-btn",children:[Object(u.jsx)("img",{src:z,alt:"icon of close button",className:"icon-close",onClick:function(){return t(!1)}}),Object(u.jsx)("h5",{children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"}),Object(u.jsx)("button",{className:"button-md button-m active",form:"hook-form",type:"submit",children:"\u5132\u5b58"})]})})},Z=c.p+"static/media/avatar.bd02c62f.svg",H=function(e){var t=e.avatar,c=e.onClick,n=e.userId;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"avatar",onClick:function(e){null===c||void 0===c||c({userId:n}),e.stopPropagation()},children:Object(u.jsx)("img",{src:t||Z,alt:"userAvatar",className:"user-avatar"})})})},K=function(e){var t=e.avatar,c=e.onAddTweet,n=e.onModalAddTweet,a=Object(h.a)(),r=a.register,s=a.handleSubmit,i=a.reset,o=a.formState.errors;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"formLayout tweet-card-form",children:Object(u.jsxs)("form",{onSubmit:s((function(e){c&&c(e),n&&n(e),i()})),children:[Object(u.jsxs)("div",{className:"form-group-inner-wrapper",children:[Object(u.jsx)(H,{avatar:t}),Object(u.jsx)("div",{className:"textarea-group-container",children:Object(u.jsx)("div",{className:"grow-wrap",children:Object(u.jsx)("textarea",Object(x.a)(Object(x.a)({type:"textarea",id:"description",name:"description"},r("description",{required:!0,maxLength:250})),{},{placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b\uff1f",maxLength:"250",className:"tweet-text-area"}))})})]}),Object(u.jsxs)("div",{children:[o.description&&"required"===o.description.type&&Object(u.jsx)("span",{className:"error",children:"This is required"}),Object(u.jsx)("button",{className:"button-md button-m active",type:"submit",children:"\u63a8\u6587"})]})]})})})},Q="https://calm-eyrie-50498.herokuapp.com/api",W=g.a.create({baseUrl:Q});W.interceptors.request.use((function(e){var t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){console.error(e)}));var X=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("".concat(Q,"/users/").concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.id,n=t.data,console.log({payload:t}),e.next=5,W.put("".concat(Q,"/users/").concat(c),{name:n.name,introduction:n.introduction,avatar:n.avatar,banner:n.banner});case 5:return a=e.sent,console.log("res data",a.data),e.abrupt("return",a.data);case 10:e.prev=10,e.t0=e.catch(0),console.error("[getUser Info failed]",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),$="https://calm-eyrie-50498.herokuapp.com/api",ee=g.a.create({baseUrl:$});ee.interceptors.request.use((function(e){var t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){console.error(e)}));var te=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/tweets"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Tweets failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/users/top"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[get topUser failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/tweets/").concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Tweet Failed]: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/users/").concat(t,"/tweets"));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get UserTweets Failed!!]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/users/").concat(t,"/likes"));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get getUserLikedTweets Failed!!]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/users/").concat(t,"/replied_tweets"));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get GetUserRepliedTweets Failed!!]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.UserId,n=t.description,e.next=4,ee.post("".concat($,"/tweets"),{UserId:c,description:n});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error("[CREATE a Tweet failed:]:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.get("".concat($,"/tweets/").concat(t,"/replies"));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,n,a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.UserId,n=t.TweetId,a=t.comment,e.next=4,ee.post("".concat($,"/tweets/").concat(n,"/replies"),{UserId:c,comment:a});case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),console.error("[Reply Tweet failed:]:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.post("".concat($,"/followships"),{id:t});case 3:return c=e.sent,console.log(c),e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(0),console.error("[Following failed:]:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.delete("".concat($,"/followships/").concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Cancel Follow failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),de=function(e){e.handleAddTweets;var t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],r=c[1],s=S(),o=s.member,l=s.modalTweetOpen,j=s.setModalTweetOpen,d=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie({UserId:o.id,description:t.description});case 3:e.sent&&j(!l),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("[createData failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(o.id);case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(G,{children:[Object(u.jsx)(J,{setModalTweetOpen:j}),Object(u.jsx)("div",{className:"modal-content modal-tweet-content",children:Object(u.jsx)("div",{className:"tweet-form-wrapper",children:Object(u.jsx)(K,{avatar:a.avatar,onModalAddTweet:d})})})]})})},be=function(e){var t=e.setModalTweetOpen,c=S(),a=c.isAuthentic,r=c.member,s=c.modalTweetOpen,i=Object(l.l)();return Object(n.useEffect)((function(){a||i("/login")}),[i,a]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(q,{role:"user",setModalTweetOpen:t,pageIndex:2,memberId:null===r||void 0===r?void 0:r.id,children:[s&&Object(u.jsx)(de,{}),Object(u.jsx)("section",{className:"section-outer-m col-7",children:Object(u.jsxs)("div",{className:"section-main-m",children:[Object(u.jsx)(B,{pageTitle:"\u5e33\u6236\u8a2d\u5b9a"}),Object(u.jsx)(R,{})]})})]})})},pe=c(25),me=function(e){var t=e.name,c=e.account;return Object(u.jsxs)("div",{className:"tweet-username-2",children:[Object(u.jsx)("span",{className:"user-name",children:t}),Object(u.jsxs)("span",{className:"user-account",children:["@",c]})]})},Oe=c(42),he=function(e){var t=Object.assign({},(Object(pe.a)(e),e)),c=t.id;return Object(u.jsxs)("div",{className:"follow-card",children:[Object(u.jsxs)("div",{className:"follow-card-info",children:[Object(u.jsx)(H,{avatar:t.avatar,userId:c,onClick:function(e){var c,n=e.userId;null===(c=t.onClick)||void 0===c||c.call(t,{userId:n})}}),Object(u.jsx)(me,{name:t.name,account:t.account})]}),Object(u.jsx)("div",{className:"follow-card-button",children:Object(u.jsx)("button",{className:"".concat(Object(Oe.a)("",{active:t.isFollowing})," button-md button-m"),type:"submit",children:t.isFollowing?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u8e64"})})]})},xe=function(e){var t=e.setPathId,c=e.userIsFollowing,a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],o=r[1],j=S().member,d=Object(l.l)(),b=function(e){var c=e.userId;c===j.id?d("/user/".concat(c)):void 0!==c&&d("/other/".concat(c)),t(c)};return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"follow-list-container",children:[Object(u.jsx)("div",{className:"title-secondary",children:Object(u.jsx)("h4",{children:"\u63a8\u85a6\u8ddf\u96a8"})}),s.map((function(e){return Object(u.jsx)(he,Object(x.a)(Object(x.a)({},e),{},{onClick:b}),e.id)}))]})})},fe=c(54),ve=c.n(fe),ge=c(182),we=c.n(ge);c(350);function Ne(e){ve.a.extend(we.a),ve.a.locale("zh-tw");return function(e){return function(e){return ve()(e).subtract(1,"hour")}(e).fromNow()}(e)}var ke=function(e){var t=e.name,c=e.account,n=e.time;return Object(u.jsxs)("div",{className:"tweet-username-3",children:[Object(u.jsx)("span",{className:"user-name",children:t}),Object(u.jsxs)("span",{className:"user-account",children:["@",c]}),Object(u.jsxs)("span",{className:"user-time",children:[" \xb7",Ne(n)]})]})},ye=function(e){var t=Object.assign({},(Object(pe.a)(e),e));return Object(u.jsxs)("div",{className:"tweet-card-basic",children:[Object(u.jsx)(H,{avatar:t.User.avatar}),Object(u.jsxs)("div",{className:"tweet-card-left-info",children:[Object(u.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(u.jsxs)("p",{className:"tweet-card-basic-reply",children:["\u56de\u8986",Object(u.jsxs)("span",{className:"reply-user-account",children:["@",t.Tweet.User.name]})]}),Object(u.jsx)("p",{className:"tweet-card-basic-description",children:t.Tweet.description})]})]})},Ie=function(e){var t=e.pathId,c=(e.onClick,Object(n.useState)([])),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(t);case 3:c=e.sent,s(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(u.jsx)("div",{className:"TweetLists",children:r.map((function(e){return Object(u.jsx)(ye,Object(x.a)({},e),e.id)}))})},Te=c.p+"static/media/like-filled.a23cc5e1.svg",Se=c.p+"static/media/reply.1d9be076.svg",Ce=c.p+"static/media/like.81043da8.svg",Ue=function(e){var t=e.likesCount,c=e.repliesCount,n=e.isLiked,a=e.id,r=S(),s=r.setModalReplyOpen,i=r.setTweetId;return Object(u.jsxs)("div",{className:"tweet-card-icon-count",children:[Object(u.jsxs)("div",{className:"tweet-card-reply-count",onClick:function(e){i(a),s(!0),e.stopPropagation()},children:[Object(u.jsx)("img",{src:Se,alt:"reply",className:"reply-icon"}),Object(u.jsx)("span",{className:"tweet-count",children:c})]}),Object(u.jsxs)("div",{className:"tweet-card-like-count",children:[Object(u.jsx)("img",{src:n?Ce:Te,alt:"like",className:"".concat(Object(Oe.a)("",{active:n})," like-icon")}),Object(u.jsx)("span",{className:"tweet-count",children:t})]})]})},Ae=function(e){var t=Object.assign({},(Object(pe.a)(e),e)),c=Object(l.l)(),n=t.id;return Object(u.jsxs)("div",{className:"tweet-card-basic",onClick:function(e){!function(e){e&&c("/main/tweet/".concat(e))}(n),e.stopPropagation()},children:[Object(u.jsx)(H,{avatar:t.User.avatar,userId:t.UserId,onClick:function(e){var c,n=e.userId;null===(c=t.onClick)||void 0===c||c.call(t,{userId:n})}}),Object(u.jsxs)("div",{className:"tweet-card-left-info",children:[Object(u.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(u.jsx)("p",{className:"tweet-card-basic-description",children:t.description}),Object(u.jsx)(Ue,{likesCount:t.likesCount,repliesCount:t.repliesCount,isLiked:t.isLiked,id:n})]})]})},Le=function(e){var t=e.tweets,c=e.onClick;return Object(u.jsx)("div",{className:"TweetLists",children:t.map((function(e){return Object(u.jsx)(Ae,Object(x.a)(Object(x.a)({},e),{},{onClick:function(e){var t=e.tweetId,n=e.userId;null===c||void 0===c||c({tweetId:t,userId:n})}}),e.id)}))})},Fe=function(e){var t=Object.assign({},(Object(pe.a)(e),e));return Object(u.jsxs)("div",{className:"tweet-card-basic",onClick:function(){var e;null===(e=t.onClick)||void 0===e||e.call(t,{tweetId:t.id})},children:[Object(u.jsx)(H,{avatar:t.User.avatar,userId:t.UserId,onClick:function(e){var c,n=e.userId;null===(c=t.onClick)||void 0===c||c.call(t,{userId:n})}}),Object(u.jsxs)("div",{className:"tweet-card-left-info",children:[Object(u.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.Tweet.createdAt}),Object(u.jsx)("p",{className:"tweet-card-basic-description",children:t.Tweet.description}),Object(u.jsx)(Ue,{likesCount:t.likesCount,repliesCount:t.repliesCount,isLiked:t.isLiked})]})]})},Pe=function(e){var t=e.pathId,c=e.onClick,a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:c=e.sent,o(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(u.jsx)("div",{className:"TweetLists",children:s.map((function(e){return Object(u.jsx)(Fe,Object(x.a)(Object(x.a)({},e),{},{onClick:function(e){var t=e.tweetId,n=e.userId;null===c||void 0===c||c({tweetId:t,userId:n})}}),e.id)}))})},Me=c.p+"static/media/bk.953d3799.jpg",qe=function(e){var t=e.bkUrl;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"profile-bk-clip",children:Object(u.jsx)("img",{src:t||Me,alt:"mountain pic",className:"profile-bk-image"})})})},Ee=function(e){var t=e.name,c=e.account,n=e.introduction,a=e.avatar,r=e.banner,s=e.followersCount,i=e.followingsCount,l=e.setModalProOpen;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"profile-card",children:[Object(u.jsx)(qe,{bkUrl:r}),Object(u.jsx)(H,{avatar:a}),Object(u.jsx)("div",{className:"profile-btn-group",children:Object(u.jsx)("button",{className:"button-md button-m",onClick:function(){return l(!0)},children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"})}),Object(u.jsxs)("div",{className:"profile-info",children:[Object(u.jsx)("h5",{className:"user-name",children:t}),Object(u.jsxs)("p",{className:"user-account",children:["@",c]}),Object(u.jsx)("p",{className:"user-desc",children:n})]}),Object(u.jsxs)("div",{className:"user-follow-info",children:[Object(u.jsx)(o.b,{to:"/user/followers",children:Object(u.jsxs)("p",{children:[s," \u500b ",Object(u.jsx)("span",{children:"\u8ddf\u96a8\u4e2d"})]})}),Object(u.jsx)(o.b,{to:"/user/followers",children:Object(u.jsxs)("p",{children:[i," \u4f4d",Object(u.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})})]})]})})},Re=function(e){var t=e.avatar,c=e.tweetInfo,n=S(),a=n.member,r=n.setModalReplyOpen,s=Object(l.l)(),i=Object(h.a)(),o=i.register,j=i.handleSubmit,d=i.reset,b=i.formState.errors,p=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(c),e.next=4,le({UserId:a.id,TweetId:c.id,comment:t.description});case 4:e.sent,r(!1),s("/main/tweet/".concat(c.id)),d();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"formLayout tweet-card-form",children:Object(u.jsxs)("form",{onSubmit:j(p),children:[Object(u.jsxs)("div",{className:"form-group-inner-wrapper",children:[Object(u.jsx)(H,{avatar:t}),Object(u.jsx)("div",{className:"textarea-group-container",children:Object(u.jsx)("div",{className:"grow-wrap",children:Object(u.jsx)("textarea",Object(x.a)(Object(x.a)({type:"textarea",id:"description",name:"description"},o("description",{required:!0,maxLength:250})),{},{placeholder:"\u63a8\u4f60\u7684\u56de\u8986\uff1f",maxLength:"250",className:"tweet-text-area"}))})})]}),Object(u.jsxs)("div",{children:[b.description&&"required"===b.description.type&&Object(u.jsx)("span",{className:"error",children:"This is required"}),Object(u.jsx)("button",{className:"button-md button-m active",type:"submit",children:"\u56de\u8986"})]})]})})})},_e=function(e){var t=e.tweetInfo;return Object(u.jsxs)("div",{className:"tweet-card-basic",children:[Object(u.jsx)(H,{avatar:t.User.avatar}),Object(u.jsxs)("div",{className:"tweet-card-left-info",children:[Object(u.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(u.jsx)("p",{className:"tweet-card-basic-description",children:t.description}),Object(u.jsxs)("p",{className:"tweet-card-basic-reply",children:["\u56de\u8986\u7d66",Object(u.jsxs)("span",{className:"reply-user-account",children:["@",t.User.account]})]})]})]})},Be=function(){var e=Object(n.useState)({id:"",UserId:"",description:"",createdAt:"",User:{},Likes:{},replies:{},updatedAt:""}),t=Object(i.a)(e,2),c=t[0],a=t[1],r=S(),s=r.currentMember,o=r.setModalReplyOpen,l=r.tweetId;return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(l);case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(G,{children:[Object(u.jsx)(J,{setModalReplyOpen:o}),Object(u.jsxs)("div",{className:"modal-content modal-reply-content",children:[Object(u.jsx)("div",{className:"tweet-reply-wrapper",children:Object(u.jsx)(_e,{tweetInfo:c})}),Object(u.jsx)("div",{className:"tweet-form-wrapper",children:Object(u.jsx)(Re,{avatar:s.avatar,tweetInfo:c})})]})]})})},De=function(e){var t=e.setModalProOpen,c=(e.setModalTweetOpen,Object(n.useState)("0")),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(Number(Object(l.n)().id)),j=Object(i.a)(o,2),d=j[0],b=j[1],p=Object(l.l)(),h=S(),f=h.isAuthentic,v=h.member,g=h.modalReplyOpen,w=h.modalTweetOpen,N=Object(n.useState)({}),k=Object(i.a)(N,2),y=k[0],I=k[1],T=Object(n.useState)([]),C=Object(i.a)(T,2),U=C[0],A=C[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(d);case 3:t=e.sent,I(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e();var t=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(d);case 3:t=e.sent,A(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t(),e()}),[d,w]),Object(n.useEffect)((function(){f||p("/login")}),[p,f,v]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(q,{role:"user",pageIndex:1,memberId:v.id,children:[w&&Object(u.jsx)(de,{}),Object(u.jsx)("section",{className:"section-outer-m col-7",children:Object(u.jsxs)("div",{className:"section-main-m",children:[Object(u.jsx)(D,{userAccountName:y.name,userTweetsLength:U.length}),Object(u.jsx)(Ee,Object(x.a)(Object(x.a)({},y),{},{setModalProOpen:t})),Object(u.jsx)(L,{tabIndex:r,setTabIndex:s}),g&&Object(u.jsx)(Be,{}),function(e){switch(e){case"1":return Object(u.jsx)(Ie,{pathId:d});case"2":return Object(u.jsx)(Pe,{pathId:d});default:return Object(u.jsx)(Le,{tweets:U})}}(r)]})}),Object(u.jsx)("section",{className:"section-right col-3",children:Object(u.jsx)(xe,{setPathId:b})})]})})},Ge=c.p+"static/media/message.4c9af58b.svg",ze=c.p+"static/media/notice.60c0a6cc.svg",Je=function(e){var t=e.name,c=e.account,n=e.introduction,a=e.avatar,r=e.banner,s=e.followersCount,i=e.followingsCount,j=(e.setModalProOpen,e.userIsFollowing),d=e.onClick,b=Number(Object(l.n)().id);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"profile-card",children:[Object(u.jsx)(qe,{bkUrl:r}),Object(u.jsx)(H,{avatar:a}),Object(u.jsxs)("div",{className:"profile-btn-group",children:[Object(u.jsx)("img",{src:Ge,alt:"icon of message",className:"icon-round icon-message icon-round cursor-point"}),Object(u.jsx)("img",{src:ze,alt:"icon of Notice",className:"icon-round icon-notice icon-round cursor-point"}),Object(u.jsx)("button",{className:"".concat(Object(Oe.a)("",{active:j})," button-md button-m"),onClick:function(){return null===d||void 0===d?void 0:d(b)},children:j?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u8e64"})]}),Object(u.jsxs)("div",{className:"profile-info",children:[Object(u.jsx)("h5",{className:"user-name",children:t}),Object(u.jsxs)("p",{className:"user-account",children:["@",c]}),Object(u.jsx)("p",{className:"user-desc",children:n})]}),Object(u.jsxs)("div",{className:"user-follow-info",children:[Object(u.jsx)(o.b,{to:"/user/followers",children:Object(u.jsxs)("p",{children:[s," \u500b ",Object(u.jsx)("span",{children:"\u8ddf\u96a8\u4e2d"})]})}),Object(u.jsx)(o.b,{to:"/user/followers",children:Object(u.jsxs)("p",{children:[i," \u4f4d",Object(u.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})})]})]})})},Ve=function(e){var t=e.setModalProOpen,c=e.setModalTweetOpen,a=Object(n.useState)("0"),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(n.useState)(Number(Object(l.n)().id)),d=Object(i.a)(j,2),b=d[0],p=d[1],h=Object(l.l)(),f=S(),v=f.isAuthentic,g=f.member,w=f.modalReplyOpen,N=f.modalTweetOpen,k=Object(n.useState)({}),y=Object(i.a)(k,2),I=y[0],T=y[1],C=Object(n.useState)([]),U=Object(i.a)(C,2),A=U[0],F=U[1],P=Object(n.useState)(!1),M=Object(i.a)(P,2),E=M[0],R=M[1],_=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E){e.next=6;break}return e.next=4,ue(t);case 4:e.next=8;break;case 6:return e.next=8,je(t);case 8:R(!E),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(b);case 3:t=e.sent,T(t),R(t.isFollowing),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(b);case 3:t=e.sent,F(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t(),e()}),[b,N]),Object(n.useEffect)((function(){v||h("/login")}),[h,v]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(q,{role:"user",setModalTweetOpen:c,setModalProOpen:t,memberId:g.id,children:[N&&Object(u.jsx)(de,{}),Object(u.jsx)("section",{className:"section-outer-m col-7",children:Object(u.jsxs)("div",{className:"section-main-m",children:[Object(u.jsx)(D,{userAccountName:"Others",userTweetsLength:"33\u63a8\u6587"}),Object(u.jsx)(Je,Object(x.a)(Object(x.a)({},I),{},{setModalProOpen:t,userIsFollowing:E,onClick:_})),Object(u.jsx)(L,{tabIndex:s,setTabIndex:o}),w&&Object(u.jsx)(Be,{}),function(e){switch(e){case"1":return Object(u.jsx)(Ie,{pathId:b});case"2":return Object(u.jsx)(Pe,{pathId:b});default:return Object(u.jsx)(Le,{tweets:A})}}(s)]})}),Object(u.jsx)("section",{className:"section-right col-3",children:Object(u.jsx)(xe,{setPathId:p,userIsFollowing:E})})]})})},Ze=function(e){var t=e.setModalProOpen,c=(e.setModalTweetOpen,Object(n.useState)("0")),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(l.l)(),j=S(),d=j.isAuthentic,b=j.member,p=j.modalTweetOpen,h=Object(n.useState)({}),x=Object(i.a)(h,2),f=x[0],v=x[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(b.id);case 3:t=e.sent,v(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){d||o("/login")}),[o,d]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(q,{role:"user",setModalProOpen:t,pageIndex:1,memberId:f.id,children:[p&&Object(u.jsx)(de,{}),Object(u.jsx)("section",{className:"section-outer-m col-7",children:Object(u.jsxs)("div",{className:"section-main-m",children:[Object(u.jsx)(D,{userAccountName:"John Doe",userTweetsLength:"25\u63a8\u6587"}),Object(u.jsx)(F,{tabIndex:r,setTabIndex:s}),function(e){return"0"===e?Object(u.jsx)("h1",{children:"\u66ff\u63db\u6210 tab0\u8981\u7528\u7684component"}):Object(u.jsx)("h1",{children:"\u66ff\u63db\u6210 tab1\u8981\u7528\u7684component"})}(r)]})}),Object(u.jsx)("section",{className:"section-right col-3"})]})})},He=function(e){e.setModalTweetOpen;var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),j=o[0],d=o[1],b=Object(l.l)(),p=S(),h=p.isAuthentic,f=p.member,v=p.modalReplyOpen,g=p.modalTweetOpen,w=Object(n.useState)(!1),N=Object(i.a)(w,2),k=(N[0],N[1]),y=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:t=e.sent,r(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),k(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie({UserId:f.id,description:t.description});case 3:c=e.sent,console.log(c),y(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("[createData failed]",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(f.id);case 3:t=e.sent,d(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){y()}),[g]),Object(n.useEffect)((function(){h||b("/login")}),[b,h]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(q,{role:"user",pageIndex:0,memberId:f.id,children:[g&&Object(u.jsx)(de,{}),v&&Object(u.jsx)(Be,{}),Object(u.jsx)("section",{className:"section-outer-m col-7",children:Object(u.jsxs)("div",{className:"section-main-m ",children:[Object(u.jsx)(B,{pageTitle:"\u9996\u9801"}),Object(u.jsx)("div",{className:"tweet-form-wrapper",children:Object(u.jsx)(K,Object(x.a)(Object(x.a)({},j),{},{onAddTweet:I,setTweets:r,tweets:a}))}),Object(u.jsx)(Le,{tweets:a,onClick:function(e){var t=e.userId;t===j.id?b("/user/".concat(t)):void 0!==t&&b("/other/".concat(t))},setIsTweetsLoaded:k})]})}),Object(u.jsx)("section",{className:"section-right col-3",children:Object(u.jsx)(xe,{setPathId:function(){}})})]})})},Ke=c.p+"static/media/post.38b40641.svg",Qe=function(e){var t=e.id,c=e.account,n=e.name,a=e.avatar,r=e.banner,s=e.handleClickCard;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"profile-mini-card",onClick:function(){null===s||void 0===s||s(t)},children:[Object(u.jsx)(qe,{bkUrl:r}),Object(u.jsx)(H,{avatar:a,onClick:function(){null===s||void 0===s||s(t)}}),Object(u.jsxs)("div",{className:"profile-info",children:[Object(u.jsx)("h5",{className:"user-name",children:n}),Object(u.jsxs)("p",{className:"user-account",children:["@",c]})]}),Object(u.jsxs)("div",{className:"user-tweet-info",children:[Object(u.jsxs)("div",{className:"user-card-post-count",children:[Object(u.jsx)("img",{src:Ke,alt:"post",className:"icon-post"}),Object(u.jsx)("span",{className:"tweet-count",children:"1.5k"})]}),Object(u.jsxs)("div",{className:"user-card-like-count",children:[Object(u.jsx)("img",{src:Ce,alt:"like",className:"icon-like"}),Object(u.jsx)("span",{className:"tweet-count",children:"20k"})]})]}),Object(u.jsxs)("div",{className:"user-follow-info",children:[Object(u.jsxs)("p",{children:["34 \u500b ",Object(u.jsx)("span",{children:"\u8ddf\u96a8\u4e2d"})]}),Object(u.jsxs)("p",{children:["59 \u4f4d",Object(u.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})]})]})})},We="https://calm-eyrie-50498.herokuapp.com/api",Xe=g.a.create({baseUrl:We});Xe.interceptors.request.use((function(e){var t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){console.error(e)}));var Ye=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe.get("".concat(We,"/users"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Admin Users failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(l.l)(),s=function(e){e&&r("/user/".concat(e))};return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye();case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{role:"admin",pageIndex:1,children:Object(u.jsx)("div",{className:"section-outer-l col-10",children:Object(u.jsxs)("div",{className:"section-main-l",children:[Object(u.jsx)(B,{pageTitle:"\u4f7f\u7528\u8005\u5217\u8868"}),Object(u.jsx)("div",{className:"admin-user-wrapper",children:c.map((function(e){return Object(u.jsx)(Qe,Object(x.a)(Object(x.a)({},e),{},{handleClickCard:function(e){null===s||void 0===s||s(e)}}),e.id)}))})]})})})})},et=c.p+"static/media/addphoto.2e797657.svg",tt="https://i.imgur.com/ZFz8ZEI.png",ct=function(e){var t=e.setModalProOpen,c=S(),a=c.isAuthentic,r=c.member,s=Object(n.useState)({name:"",introduction:"",avatar:"",banner:""}),o=Object(i.a)(s,2),j=o[0],d=o[1],b=Object(l.l)(),p=Object(h.a)({defaultValues:{name:j.name,introduction:j.introduction,avatar:j.avatar,banner:j.banner}}),v=p.register,g=p.handleSubmit,w=p.reset,N=p.formState.errors,k=p.watch,y=p.setValue,I=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(r.id);case 3:(t=e.sent)&&(d(t),_(t.banner),M(t.avatar)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(Object(m.a)().mark((function e(c){var n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("we get data",c),console.log(r.id),e.prev=2,e.next=5,Y({id:r.id,data:c});case 5:(n=e.sent)&&t(!1),console.log({addData:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("[getUser Info  with Async failed]",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(n.useRef)(null),U=Object(n.useRef)(null),A=Object(n.useRef)(null),L=Object(n.useState)(""),F=Object(i.a)(L,2),P=F[0],M=F[1],q=Object(n.useState)(""),E=Object(i.a)(q,2),R=E[0],_=E[1],B=function(e){console.log(e.target.className);var t="input-file-avatar";"input-file-bk"===e.target.className&&(t="input-file-bk");var c=Object(i.a)(e.target.files,1)[0];if(c){var n=new FileReader;C.current.file=c,n.onload=function(e){"input-file-avatar"===t?(M(e.target.result),y("avatar",e.target.result)):"input-file-bk"===t&&(console.log("bk-file"),_(e.target.result),y("banner",e.target.result))},n.readAsDataURL(c)}};return Object(n.useEffect)((function(){I()}),[]),Object(n.useEffect)((function(){w(Object(x.a)({},j))}),[j,w]),Object(n.useEffect)((function(){a||b("/login")}),[b,a]),console.log({profile:j}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(G,{children:[Object(u.jsx)(V,{setModalProOpen:t,onSubmit:T}),Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"profile-bk-wrapper",children:[Object(u.jsx)(qe,{bkUrl:R}),Object(u.jsx)("img",{alt:"bk-camera",src:et,className:"icon-camera",ref:C,onClick:function(){return A.current.click()}}),Object(u.jsx)("img",{src:z,alt:"icon of close button",className:"icon-close",onClick:function(e){alert("\u63db\u56de\u539f\u672c\u80cc\u666f\u7167\u7247"),_(j.banner?j.banner:tt),y("banner",j.banner?j.banner:tt)}}),Object(u.jsx)("input",{type:"file",accept:"image/*",onChange:B,ref:A,className:"input-file-bk"})]}),Object(u.jsxs)("div",{className:"avatar-edit-wrapper",children:[Object(u.jsx)(H,{avatar:P}),Object(u.jsx)("img",{alt:"bbb",src:et,className:"icon-camera",ref:C,onClick:function(){return U.current.click()}}),Object(u.jsx)("input",{type:"file",accept:"image/*",onChange:B,ref:U,className:"input-file-avatar"})]}),Object(u.jsxs)("form",{className:"modal-info-form",id:"hook-form",onSubmit:g(T),children:[Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"name",label:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",maxLength:"50",errors:N,register:v,validationSchema:{required:"name is required",minLength:{value:3,message:"Please enter a minimum of 3 characters"}},watch:k})}),Object(u.jsxs)("div",{className:"textarea-group-container",children:[Object(u.jsxs)("div",{className:"textarea-group grow-wrap",children:[Object(u.jsx)("label",{children:"\u81ea\u6211\u4ecb\u7d39"}),Object(u.jsx)("textarea",Object(x.a)(Object(x.a)({type:"textarea",id:"introduction",name:"introduction"},v("introduction",{required:!0,maxLength:150})),{},{placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b\uff1f",maxLength:"30",className:"desc-text-area"}))]}),Object(u.jsxs)("div",{className:"error-message-group",children:[N.description&&"required"===N.description.type&&Object(u.jsx)("span",{className:"error",children:"This is required"}),Object(u.jsxs)("span",{className:"limit-num",children:[k("description")?k("description").length:"0","/50"]})]})]}),Object(u.jsx)("input",Object(x.a)(Object(x.a)({type:"text"},v("banner")),{},{style:{display:"none"}})),Object(u.jsx)("input",Object(x.a)(Object(x.a)({type:"text"},v("avatar")),{},{style:{display:"none"}}))]})]})]})})},nt=function(e){var t=e.tweetInfo,c=e.onClick,n=t.UserId;return Object(u.jsxs)("div",{className:"TweetBigCard",children:[Object(u.jsxs)("div",{className:"TweetUserInfo",children:[Object(u.jsxs)("div",{className:"TweetUserInfo-head",children:[Object(u.jsx)(H,{avatar:t.User.avatar,onClick:function(e){var t=e.userId;null===c||void 0===c||c({userId:t})},userId:n}),Object(u.jsx)(me,{name:t.User.name,account:t.User.account})]}),Object(u.jsx)("p",{className:"tweet-card-basic-description",children:t.description}),Object(u.jsx)("p",{className:"tweetDate",children:Ne(t.createdAt)})]}),Object(u.jsxs)("div",{className:"TweetUserInfo",children:[Object(u.jsxs)("span",{className:"TweetUserInfo-replies",children:["34 ",Object(u.jsx)("span",{children:"\u56de\u8986"})]}),Object(u.jsxs)("span",{className:"TweetUserInfo-likes",children:["808 ",Object(u.jsx)("span",{children:"\u559c\u6b61\u6b21\u6578"})]})]}),Object(u.jsx)("div",{className:"TweetUserInfo",children:Object(u.jsx)(Ue,{id:t.id})})]})},at=function(e){var t=Object.assign({},(Object(pe.a)(e),e));return Object(u.jsxs)("div",{className:"tweet-card-basic",children:[Object(u.jsx)(H,{avatar:t.User.avatar,userId:t.UserId,onClick:function(e){var c,n=e.userId;null===(c=t.onClick)||void 0===c||c.call(t,{userId:n})}}),Object(u.jsxs)("div",{className:"tweet-card-left-info",children:[Object(u.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(u.jsxs)("p",{className:"tweet-card-basic-reply",children:["\u56de\u8986",Object(u.jsxs)("span",{className:"reply-user-account",children:["@",t.account]})]}),Object(u.jsx)("p",{className:"tweet-card-basic-description",children:t.comment})]})]})},rt=function(e){var t=e.tweetReplies,c=e.account,n=e.onClick;return Object(u.jsx)("div",{className:"TweetLists",children:t.map((function(e){return Object(u.jsx)(at,Object(x.a)(Object(x.a)({},e),{},{account:c,onClick:function(e){var t=e.userId;null===n||void 0===n||n({userId:t})}}),e.id)}))})},st=function(e){var t=e.setModalTweetOpen,c=Object(n.useState)({id:"",UserId:"",description:"",createdAt:"",User:{}}),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),j=Object(i.a)(o,2),d=j[0],b=j[1],p=S(),h=(p.isAuthentic,p.member),x=p.modalReplyOpen,f=p.setTweetId,v=p.modalTweetOpen,g=Number(Object(l.n)().id),w=Object(l.l)(),N=function(e){var t=e.userId;t===h.id?w("/user/".concat(t)):void 0!==t&&w("/other/".concat(t))};return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(g);case 3:t=e.sent,s(t),f(g),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[g,v]),Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(g);case 3:t=e.sent,b(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[x]),Object(u.jsxs)(q,{role:"user",setModalTweetOpen:t,pageIndex:0,memberId:null===h||void 0===h?void 0:h.id,children:[v&&Object(u.jsx)(de,{}),x&&Object(u.jsx)(Be,{}),Object(u.jsx)("section",{className:"section-outer-m col-7",children:Object(u.jsxs)("div",{className:"section-main-m",children:[Object(u.jsx)(D,{userAccountName:"\u63a8\u6587"}),Object(u.jsxs)("div",{className:"TweetPage",children:[Object(u.jsx)(nt,{tweetInfo:r,onClick:N}),Object(u.jsx)(rt,{tweetReplies:d,account:r.User.account,onClick:N})]})]})}),Object(u.jsx)("section",{className:"section-right col-3",children:Object(u.jsx)(xe,{setPathId:function(){}})})]})},it=function(){var e=S(),t=e.signUp,c=e.isAuthentic,a=Object(l.l)(),r=Object(h.a)(),s=r.register,i=r.handleSubmit,j=r.reset,d=r.formState.errors,b=r.watch,p=function(){var e=Object(O.a)(Object(m.a)().mark((function e(c){var n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.password.length){e.next=2;break}return e.abrupt("return");case 2:return console.log(c),e.next=5,t({account:c.account,email:c.email,password:c.password,checkPassword:c.cpassword,name:c.username});case 5:n=e.sent,console.log("Register: ",n),j();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&a("/main")}),[a,c]),Object(u.jsx)("div",{className:"formLayout register-form",children:Object(u.jsxs)("form",{onSubmit:i(p),children:[Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"account",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",maxLength:"50",errors:d,register:s,validationSchema:{required:"account is required",minLength:{value:3,message:"Please enter a minimum of 3 characters"}},watch:b})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"username",label:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",maxLength:"50",errors:d,register:s,validationSchema:{required:"name is required",minLength:{value:3,message:"Please enter a minimum of 3 characters"}},watch:b})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"email",label:"Email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",errors:d,register:s,validationSchema:{required:"email is required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}},watch:b})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:d,register:s,validationSchema:{required:"password is required",minLength:{value:8,message:"Please enter a minimum of 8 characters"}},watch:b})}),Object(u.jsx)("div",{className:"input-group-container",children:Object(u.jsx)(f,{name:"cpassword",label:"\u5bc6\u78bc\u518d\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",errors:d,register:s,validationSchema:{required:"cpassword is required",minLength:{value:8,message:"Please enter a minimum of 8 characters"}},watch:b})}),Object(u.jsxs)("div",{className:"button-group-column",children:[Object(u.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u767b\u5165"}),Object(u.jsx)(o.b,{to:"/login",className:"button-link",children:"\u53d6\u6d88"})]})]})})},ot=function(){var e=S().isAuthentic,t=Object(l.l)();return Object(n.useEffect)((function(){e&&t("/main")}),[t,e]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(p,{children:Object(u.jsxs)("div",{className:"login-container col-4 flex_col_cc",children:[Object(u.jsx)("div",{className:"page-logo",children:Object(u.jsx)("img",{src:b,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(u.jsx)("h3",{className:"page-title",children:"\u5efa\u7acb\u4f60\u7684\u5e33\u865f"}),Object(u.jsx)(it,{})]})})})};var lt=function(e){e.router;var t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],r=c[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(C,{children:Object(u.jsxs)(j,{children:[Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"*",element:Object(u.jsx)(A,{})}),Object(u.jsx)(l.a,{path:"/storybook",element:Object(u.jsx)(P,{})}),Object(u.jsx)(l.a,{path:"/login",element:Object(u.jsx)(A,{})}),Object(u.jsx)(l.a,{path:"/login/admin",element:Object(u.jsx)(E,{})}),Object(u.jsx)(l.a,{path:"/register",element:Object(u.jsx)(ot,{})}),Object(u.jsx)(l.a,{path:"/main",element:Object(u.jsx)(He,{})}),Object(u.jsx)(l.a,{path:"/user/:id",element:Object(u.jsx)(De,{setModalProOpen:r})}),Object(u.jsx)(l.a,{path:"/other/:id",element:Object(u.jsx)(Ve,{setModalProOpen:r})}),Object(u.jsx)(l.a,{path:"/user/followers",element:Object(u.jsx)(Ze,{setModalProOpen:r})}),Object(u.jsx)(l.a,{path:"/main/tweet/:id",element:Object(u.jsx)(st,{})}),Object(u.jsx)(l.a,{path:"/setting",element:Object(u.jsx)(be,{})}),Object(u.jsx)(l.a,{path:"/admin/users",element:Object(u.jsx)($e,{})}),Object(u.jsx)(l.a,{path:"/main/self2",element:Object(u.jsx)(d,{})})]}),a&&Object(u.jsx)(ct,{setModalProOpen:r})]})})})})},ut=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,352)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(lt,{})})),ut()}},[[351,1,2]]]);
//# sourceMappingURL=main.ce5bfdaf.chunk.js.map